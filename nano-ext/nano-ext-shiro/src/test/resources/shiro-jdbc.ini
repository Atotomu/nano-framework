[main]
jdbcRealm=org.nanoframework.ext.shiro.realm.MyBatisRealm

# DataSource Name
jdbcRealm.dataSourceName=shiro

# Realm Query
realmQuery=org.nanoframework.ext.shiro.realm.RealmQuery
realmQuery.authenticationQuery=SELECT PASSWD FROM T_DAP_USERS WHERE USER_NAME = ?
realmQuery.userRolesQuery=select t1.code from t_dap_role t1 left join t_dap_user_role t2 on t1.id = t2.role_id left join t_dap_users t3 on t3.id = t2.user_id where t3.user_name = ?
realmQuery.permissionsQuery=select t1.code from t_dap_func t1 left join t_dap_role_func t2 on t1.id = t2.func_id left join t_dap_role t3 on t3.id = t2.role_id where t3.code = ?
jdbcRealm.realmQuery=$realmQuery
jdbcRealm.permissionsLookupEnabled=true

# Salt Style
jdbcRealm.saltStyle=EXTERNAL

# Hashed Credentials Matcher
credentialsMatcher=org.apache.shiro.authc.credential.HashedCredentialsMatcher
credentialsMatcher.hashAlgorithmName=md5
credentialsMatcher.hashIterations=2
credentialsMatcher.storedCredentialsHexEncoded=true
jdbcRealm.credentialsMatcher=$credentialsMatcher

securityManager.realms=$jdbcRealm

authc.loginUrl=/login
logout.redirectUrl=/pages/login.jsp

[urls]
/pages/login.jsp=anon
/login=anon
/logout=logout
/**=authc